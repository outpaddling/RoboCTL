<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>roboctl: Robot Communication API</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>Robot Communication API</h1><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__roboctl_g3a0edce9556381a09fabee27ce49511d.html#g3a0edce9556381a09fabee27ce49511d">rct_init_brick_struct</a> (rct_brick_t *brick, rct_brick_type_t type)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialize a brick structure.  <a href="#g3a0edce9556381a09fabee27ce49511d"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">rct_status_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__roboctl_g834e4eeb4d2af815f21b0992479bf617.html#g834e4eeb4d2af815f21b0992479bf617">rct_open_brick</a> (rct_brick_t *brick)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Open a connection to a brick.  <a href="#g834e4eeb4d2af815f21b0992479bf617"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">rct_status_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__roboctl_g78a395f38ef678f79a7495d5f945f179.html#g78a395f38ef678f79a7495d5f945f179">rct_upload_file</a> (rct_brick_t *brick, char *filename, rct_flag_t flags)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Upload a file to the brick.  <a href="#g78a395f38ef678f79a7495d5f945f179"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">rct_status_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__roboctl_ge9d11a616a27ff7d1b777a61a5d74695.html#ge9d11a616a27ff7d1b777a61a5d74695">rct_play_sound_file</a> (rct_brick_t *brick, rct_flag_t flags, char *filename)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Instruct the brick to play a sound file.  <a href="#ge9d11a616a27ff7d1b777a61a5d74695"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">rct_status_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__roboctl_g26cd8dea80ca28a054b686350706d171.html#g26cd8dea80ca28a054b686350706d171">rct_play_tone</a> (rct_brick_t *brick, int herz, int milliseconds)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Instruct the robo brick to play a tone.  <a href="#g26cd8dea80ca28a054b686350706d171"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g42a7555462ca9bb62fa942ed89741710"></a><!-- doxytag: member="roboctl::rct_delete_file" ref="g42a7555462ca9bb62fa942ed89741710" args="(rct_brick_t *brick, char *filename)" -->
rct_status_t&nbsp;</td><td class="memItemRight" valign="bottom"><b>rct_delete_file</b> (rct_brick_t *brick, char *filename)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ge8227e2ce28cc85c8793ed380704ce30"></a><!-- doxytag: member="roboctl::rct_start_program" ref="ge8227e2ce28cc85c8793ed380704ce30" args="(rct_brick_t *brick, char *filename)" -->
rct_status_t&nbsp;</td><td class="memItemRight" valign="bottom"><b>rct_start_program</b> (rct_brick_t *brick, char *filename)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g54d073ff7470a68ae8c30b8518f0d672"></a><!-- doxytag: member="roboctl::rct_stop_program" ref="g54d073ff7470a68ae8c30b8518f0d672" args="(rct_brick_t *brick)" -->
rct_status_t&nbsp;</td><td class="memItemRight" valign="bottom"><b>rct_stop_program</b> (rct_brick_t *brick)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga0cb817205b3da6276c2d47540382c73"></a><!-- doxytag: member="roboctl::rct_download_file" ref="ga0cb817205b3da6276c2d47540382c73" args="(rct_brick_t *brick, char *filename)" -->
rct_status_t&nbsp;</td><td class="memItemRight" valign="bottom"><b>rct_download_file</b> (rct_brick_t *brick, char *filename)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g30a7dda0d266b69d8e7c35a3bd33c2be"></a><!-- doxytag: member="roboctl::rct_close_brick" ref="g30a7dda0d266b69d8e7c35a3bd33c2be" args="(rct_brick_t *brick)" -->
rct_status_t&nbsp;</td><td class="memItemRight" valign="bottom"><b>rct_close_brick</b> (rct_brick_t *brick)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="gb4a7319e58ee8cccae56253ebe4dad96"></a><!-- doxytag: member="roboctl::rct_get_battery_level" ref="gb4a7319e58ee8cccae56253ebe4dad96" args="(rct_brick_t *brick)" -->
rct_status_t&nbsp;</td><td class="memItemRight" valign="bottom"><b>rct_get_battery_level</b> (rct_brick_t *brick)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g5d0db06419d6d97b542dc047ceddb09a"></a><!-- doxytag: member="roboctl::rct_print_battery_level" ref="g5d0db06419d6d97b542dc047ceddb09a" args="(rct_brick_t *brick)" -->
rct_status_t&nbsp;</td><td class="memItemRight" valign="bottom"><b>rct_print_battery_level</b> (rct_brick_t *brick)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="gf822e6f5f31c471276e93bfcc8ba56bb"></a><!-- doxytag: member="roboctl::rct_get_firmware_version" ref="gf822e6f5f31c471276e93bfcc8ba56bb" args="(rct_brick_t *brick)" -->
rct_status_t&nbsp;</td><td class="memItemRight" valign="bottom"><b>rct_get_firmware_version</b> (rct_brick_t *brick)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga93b16a250b85cfe80cb46ffaefbe680"></a><!-- doxytag: member="roboctl::rct_print_firmware_version" ref="ga93b16a250b85cfe80cb46ffaefbe680" args="(rct_brick_t *brick)" -->
rct_status_t&nbsp;</td><td class="memItemRight" valign="bottom"><b>rct_print_firmware_version</b> (rct_brick_t *brick)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g5e2682407d69787d675143b485f93b15"></a><!-- doxytag: member="roboctl::rct_print_device_info" ref="g5e2682407d69787d675143b485f93b15" args="(rct_brick_t *brick)" -->
rct_status_t&nbsp;</td><td class="memItemRight" valign="bottom"><b>rct_print_device_info</b> (rct_brick_t *brick)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">rct_status_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__roboctl_gd7fe91c76042948be453b74f24164ffb.html#gd7fe91c76042948be453b74f24164ffb">rct_motor_on</a> (rct_brick_t *brick, int port, int power)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="gf92bd5dd67af74d80018e9c3b35e170b"></a><!-- doxytag: member="roboctl::rct_find_bricks" ref="gf92bd5dd67af74d80018e9c3b35e170b" args="(rct_brick_list_t *bricks, char *name, unsigned int flags)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><b>rct_find_bricks</b> (rct_brick_list_t *bricks, char *name, unsigned int flags)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="gfef8cbab73299f41dc270235c534df92"></a><!-- doxytag: member="roboctl::rct_find_nxt_bricks" ref="gfef8cbab73299f41dc270235c534df92" args="(rct_brick_list_t *bricks, char *name)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><b>rct_find_nxt_bricks</b> (rct_brick_list_t *bricks, char *name)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g597c142c000032f4a77ed3c01fe9622f"></a><!-- doxytag: member="roboctl::rct_find_nxt_usb" ref="g597c142c000032f4a77ed3c01fe9622f" args="(rct_brick_list_t *bricks)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><b>rct_find_nxt_usb</b> (rct_brick_list_t *bricks)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="gb671920e9100c3d862a79c3327123938"></a><!-- doxytag: member="roboctl::rct_find_nxt_bluetooth" ref="gb671920e9100c3d862a79c3327123938" args="(rct_brick_list_t *bricks, char *name)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><b>rct_find_nxt_bluetooth</b> (rct_brick_list_t *bricks, char *name)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">rct_brick_t *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__roboctl_g4578e3b7bf9f2fc5a35a01db0e07be1e.html#g4578e3b7bf9f2fc5a35a01db0e07be1e">rct_get_brick_from_list</a> (rct_brick_list_t *list, int n)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get brick N from an rct_brick_list_t structure.  <a href="#g4578e3b7bf9f2fc5a35a01db0e07be1e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g10d1fb9fd26ad6625ac8e832833f25ba"></a><!-- doxytag: member="roboctl::rct_brick_count" ref="g10d1fb9fd26ad6625ac8e832833f25ba" args="(rct_brick_list_t *bricks)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__roboctl_g10d1fb9fd26ad6625ac8e832833f25ba.html#g10d1fb9fd26ad6625ac8e832833f25ba">rct_brick_count</a> (rct_brick_list_t *bricks)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return the number of bricks in an rct_brick_list_t structure. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g139278821a9fcaf90ccbb7a286d8cbfb"></a><!-- doxytag: member="roboctl::rct_set_count" ref="g139278821a9fcaf90ccbb7a286d8cbfb" args="(rct_brick_list_t *bricks, int n)" -->
rct_status_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__roboctl_g139278821a9fcaf90ccbb7a286d8cbfb.html#g139278821a9fcaf90ccbb7a286d8cbfb">rct_set_count</a> (rct_brick_list_t *bricks, int n)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the number of bricks in an rct_brick_list_t structure. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g422be9219ab5f1ff2a5ec7edd5eb4f61"></a><!-- doxytag: member="roboctl::rct_increase_count" ref="g422be9219ab5f1ff2a5ec7edd5eb4f61" args="(rct_brick_list_t *bricks, int n)" -->
rct_status_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__roboctl_g422be9219ab5f1ff2a5ec7edd5eb4f61.html#g422be9219ab5f1ff2a5ec7edd5eb4f61">rct_increase_count</a> (rct_brick_list_t *bricks, int n)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the number of bricks in an rct_brick_list_t structur. <br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
libroboctl is a C Application Programming Interface (API) for communication with robot bricks such as Lego and VEX. It implements the basic functions of the controller communication protocols, plus higher level functions such as file uploading, downloading, etc.<p>
The library allows programs written in C (and other languages capable of linking to C routines) to locate robo bricks on available communication links (e.g. USB, Bluetooth), open a connection to the brick, send commands and data, and retrieve data.<p>
The top-layer C API is brick and interface independent, so you can in many cases write one program that will work with any brick over any communication interface. E.g., uploading a program file or checking the battery level is essentially the same for all bricks and it makes no difference whether we use a serial port, USB, or Bluetooth to perform these tasks.<p>
Although use of the device independent API is encouraged for the sake of minimizing code changes for new bricks, it is not required. Some operations, are of course, specific to a certain type of brick or only make sense for certain communication links. For example, using NXT direct commands to remote-control an NXT robot connected via a USB cable could be problematic or disastrous for the robot. In these cases, a program might want a Bluetooth connection or nothing.<p>
Example program to print some basic device info:<p>
<div class="fragment"><pre class="fragment"><span class="preprocessor">#include &lt;stdio.h&gt;</span>
<span class="preprocessor">#include &lt;sysexits.h&gt;</span>
<span class="preprocessor">#include &lt;legoctl/legoctl.h&gt;</span>

<span class="comment">/*</span>
<span class="comment"> *  To compile:</span>
<span class="comment"> *      LOCALBASE ?= /usr/local</span>
<span class="comment"> *</span>
<span class="comment"> *      cc -o print_status -I${LOCALBASE}/include print_status.c </span>
<span class="comment"> *              -L${LOCALBASE}/lib -llegoctl -lusb -lbluetooth</span>
<span class="comment"> */</span>
 
<span class="keywordtype">int</span>     main(<span class="keywordtype">int</span> argc,<span class="keywordtype">char</span> *argv[])

{
    lct_brick_list_t    bricks;
    lct_brick_t         *brick;
    
    lct_find_bricks(&amp;bricks,LCT_PROBE_DEV_NXT);
    <span class="keywordflow">if</span> ( lct_brick_count(&amp;bricks) == 0 )
    {
        fputs(<span class="stringliteral">"Sorry, no accessible bricks found.\n"</span>,stderr);
        exit(EX_UNAVAILABLE);
    }
    
    brick = lct_get_brick_from_list(&amp;bricks,0);
    <span class="keywordflow">if</span> ( lct_open_brick(brick) == LCT_OK )
    {
        lct_print_device_info(brick);
        lct_close_brick(brick);
    }
    <span class="keywordflow">return</span> EX_OK;
}

</pre></div><h2><a class="anchor" name="seealso">
See also</a></h2>
nbc(1), nxc(1), nqc(1), legoctl(1), vexctl(1), ape(1) </div>
<hr size="1"><address style="text-align: right;"><small>Generated on Thu May 14 18:19:19 2009 for roboctl by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.8 </small></address>
</body>
</html>
